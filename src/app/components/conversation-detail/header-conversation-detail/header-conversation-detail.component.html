
<ion-header no-border class="ion-no-border">
  <ion-toolbar>
    
    <ion-buttons slot="start">
      <!-- (click)="pushPage('conversations-list')" defaultHref="/conversations-list" -->
      <ion-back-button style="display: block;" text="" *ngIf="isMobile" (click)="goBackToConversationList()">
      </ion-back-button> 
    </ion-buttons>

    <ion-title [class.info-open]="openInfoConversation || openInfoMessage">

      <div *ngIf="conversationAvatar" class="avatar-and-typing-wpr">
        <!-- [ngStyle] = "{ 'left': platformName === 'ios' ? '55px' : ''  }" -->
        <div *ngIf="conversationAvatar" class="avatar-container" [ngClass] = "{ 'avatar-container-ios': platformName === 'ios' }">
          <app-avatar-profile
            [itemAvatar] = conversationAvatar
          ></app-avatar-profile>
        </div>
        <!-- [ngStyle] = "{ 'left': platformName === 'ios' ? '63px' : ''  }" -->
        <div *ngIf="isDirect" class="user-presence" [ngClass] = "{ 'user-presence-ios': platformName === 'ios' }">
          <app-user-presence 
            [idUser] = conversationAvatar.conversation_with
            [translationMap] = translationMap
            [borderColor] = borderColor
            [fontColor] = fontColor>
          </app-user-presence>
        </div>

        <div *ngIf="conversationAvatar" class="user-typing">
          <app-user-typing 
            [idConversation] = conversationAvatar.uid
            [idCurrentUser] = idLoggedUser
            [isDirect] = isDirect
            [translationMap] = translationMap
            [color] = fontColor
            [membersConversation] = membersConversation
          ></app-user-typing>
        </div>

      </div>
      <!-- [ngClass] = "{ 'tile-info-with-ios': platformName === 'ios' ? '82px' : ''82px''  }" -->
      <div *ngIf="conversationAvatar" class="tile-info-with" (click)="onOpenCloseInfoConversation()" 
      [ngClass] = "{ 'tile-info-with-ios': platformName === 'ios' }">        
        <!-- <span class="tile-username">{{ conversationAvatar.conversation_with_fullname }} </span> -->
        <span class="tile-username">{{ conversation_with_fullname }} </span>
        
      </div>

      <!-- <div *ngIf="conversationWithFullname" class="tile-info-with" (click)="onOpenCloseInfoConversation()">        
        <span class="tile-username">{{ conversationWithFullname }} </span>
      </div> -->

    </ion-title>
    <!-- openInfoConversation  {{openInfoConversation}} -->
    <ion-buttons slot="end">

          <ion-button  *ngIf="!openInfoConversation" ion-button fill="clear" (click)="onOpenCloseInfoConversation()">
            <!-- <ion-icon slot="icon-only" name="alert-circle-outline"></ion-icon> -->
            <ion-icon slot="icon-only"  name="information-circle-outline"></ion-icon>
            <!-- <ion-icon slot="icon-only"  name="information-outline"></ion-icon> -->
          
          </ion-button>
          <ion-button  *ngIf="openInfoConversation" ion-button fill="clear" (click)="onOpenCloseInfoConversation()">
            <ion-icon slot="icon-only" name="close-circle-outline"></ion-icon>
          </ion-button>

    </ion-buttons>

  </ion-toolbar>
</ion-header>